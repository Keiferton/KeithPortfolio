---
const { data, url } = Astro.props;
const glbPath = data.glbPath ?? null;
---

<div class="group block rounded-2xl border p-4 hover:shadow-lg transition">
  <!-- Not clickable -->
  <div class="mb-3 rounded-xl overflow-hidden" style="width:100%;height:220px;">
    <model-viewer
      src={glbPath}
      camera-controls
      auto-rotate
      interaction-prompt="none"
      loading="lazy"
      style="width:100%;height:100%;background:#f7f7f7;"
    ></model-viewer>
  </div>

  <!-- Clickable section -->
  <a href={url} class="block">
    <h3 class="font-semibold">{data.title}</h3>

    {data.summary && (
      <p class="text-sm text-zinc-600 dark:text-zinc-300 mt-1">{data.summary}</p>
    )}

    {Array.isArray(data.tool) && data.tool.length > 0 && (
      <div class="mt-3 flex flex-wrap gap-2">
        {data.tool.map((t: string) => (
          <span class="text-xs border rounded px-2 py-0.5 text-zinc-700 dark:text-zinc-200 border-zinc-300 dark:border-zinc-600">{t}</span>
        ))}
      </div>
    )}
  </a>
</div>
