---
const { url, data } = Astro.props;
const hasGlb = Boolean(data.glbPath);
---
<div class="group block rounded-2xl border p-4 hover:shadow-lg transition">
  {hasGlb ? (
    <div class="mb-3 rounded-xl overflow-hidden" style="width:100%;height:220px;">
      <model-viewer
        src={data.glbPath}
        camera-controls
        interaction-prompt="none"
        loading="lazy"
        style="width:100%;height:100%;background:#f7f7f7;"
      ></model-viewer>
    </div>
  ) : (
    data.cover && (
      <img src={data.cover} alt={data.title} class="rounded-xl mb-3" loading="lazy" decoding="async" />
    )
  )}

  <a href={url} class="block">
    <h3 class="font-semibold group-hover:underline">{data.title}</h3>
    {data.summary && <p class="text-sm text-zinc-600 dark:text-zinc-300 mt-1">{data.summary}</p>}
  </a>
</div>
